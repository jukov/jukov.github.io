!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.tetris=n():t.tetris=n()}(this,(()=>{return t={744:function(t,n){var r,i,o,e;void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(t){return null!=t&&null!=t.__proto__&&t.__proto__.__proto__===Int8Array.prototype.__proto__}),void 0===Math.clz32&&(Math.clz32=(o=Math.log,e=Math.LN2,function(t){var n=t>>>0;return 0===n?32:31-(o(n)/e|0)|0})),void 0===Math.imul&&(Math.imul=function(t,n){return(4294901760&t)*(65535&n)+(65535&t)*(0|n)|0}),void 0===(i="function"==typeof(r=function(t){"use strict";var n,r,i,o,e,u,f,c,a,v,s,l,h,d,p,_,w,y,$,g,m=Math.clz32,b=Math.imul,A=ArrayBuffer.isView;function q(t,n,r,i,o,e,u){return function(t,n,r,i,o,e,u,f){n.b(i);var c=0,a=t,v=0,s=a.length;t:for(;v<s;){var l=a[v];if(v=v+1|0,(c=c+1|0)>1&&n.b(r),!(e<0||c<=e))break t;W(n,l,f)}return e>=0&&c>e&&n.b(u),n.b(o),n}(t,bt(),n,r,i,o,e,u).toString()}function x(t,n,r,i,o,e,u){return function(t,n,r,i,o,e,u,f){n.b(i);var c=0,a=t.c();t:for(;a.d();){var v=a.e();if((c=c+1|0)>1&&n.b(r),!(e<0||c<=e))break t;W(n,v,f)}return e>=0&&c>e&&n.b(u),n.b(o),n}(t,bt(),n,r,i,o,e,u).toString()}function D(t,n){return t>n?n:t}function E(t,n){return t<n?n:t}function M(t){this.h_1=t}function S(){}function C(){n=this}function j(){return null==n&&new C,n}function I(t){return 0===t.length?(n=Object.create($t.prototype),r=[],$t.call(n,r),n):function(t){return function(t,n){var r;return i=t,r=void 0!==i.toArray?i.toArray():dt(i),$t.call(n,r),n;var i}(t,Object.create($t.prototype))}(new k(t,!0));var n,r}function k(t,n){this.m_1=t,this.n_1=n}function L(){}function O(t,n,r){return T(T(t,r)-T(n,r)|0,r)}function T(t,n){var r=t%n|0;return r>=0?r:r+n|0}function U(){var t;r=this,z.call(this),this.x_1=(c||(c=!0,Math.pow(2,-26),Math.pow(2,-53)),t=Math.random()*Math.pow(2,32)|0,function(t,n,r){return R.call(r,t,n,0,0,~t,t<<10^(n>>>4|0)),r}(t,t>>31,Object.create(R.prototype)))}function V(){return null==r&&new U,r}function z(){V()}function N(t,n){if(!(n>t))throw Hn(Yt(function(t,n){return"Random range is empty: ["+Yt(t)+", "+Yt(n)+")."}(t,n)))}function B(){i=this,this.z_1=new en(0,0)}function R(t,n,r,o,e,u){if(null==i&&new B,z.call(this),this.a1_1=t,this.b1_1=n,this.c1_1=r,this.d1_1=o,this.e1_1=e,this.f1_1=u,0==(this.a1_1|this.b1_1|this.c1_1|this.d1_1|this.e1_1))throw Hn(Yt("Initial state must have at least one non-zero element."));var f=0;if(f<64)do{f=f+1|0,this.o()}while(f<64)}function P(){o=this,this.f_1=new X(1,0)}function K(){return null==o&&new P,o}function X(t,n){K(),J.call(this,t,n,1)}function H(t,n,r){L.call(this),this.i1_1=r,this.j1_1=n,this.k1_1=this.i1_1>0?t<=n:t>=n,this.l1_1=this.k1_1?t:this.j1_1}function Z(){e=this}function F(){return null==e&&new Z,e}function J(t,n,r){if(F(),0===r)throw Hn("Step must be non-zero.");if(r===ht().MIN_VALUE)throw Hn("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.p_1=t,this.q_1=function(t,n,r){var i;if(r>0)i=t>=n?n:n-O(n,t,r)|0;else{if(!(r<0))throw Hn("Step is zero.");i=t<=n?n:n+O(t,n,0|-r)|0}return i}(t,n,r),this.r_1=r}function W(t,n,r){null!=r?t.b(r(n)):null==n||Un(n)?t.b(n):n instanceof Ot?t.n1(n.m1_1):t.b(Nt(n))}function Y(t,n,r){if(Gt(new Ot(t),new Ot(n)))return!0;if(!r)return!1;var i=qt(t),o=qt(n);return!!Gt(new Ot(i),new Ot(o))||Gt(new Ot(Xt(It(i).toLowerCase(),0)),new Ot(Xt(It(o).toLowerCase(),0)))}function G(t){return function(t,n){xt(n);var r,i,o,e=t.length;if(0===e)return null;var u=Xt(t,0);if(St(u,48)<0){if(1===e)return null;if(r=1,Gt(new Ot(u),new Ot(45)))i=!0,o=ht().MIN_VALUE;else{if(!Gt(new Ot(u),new Ot(43)))return null;i=!1,o=0|-ht().MAX_VALUE}}else r=0,i=!1,o=0|-ht().MAX_VALUE;var f=(0|-ht().MAX_VALUE)/36|0,c=f,a=0,v=r;if(v<e)do{var s=v;v=v+1|0;var l=Dt(Xt(t,s),n);if(l<0)return null;if(a<c){if(c!==f)return null;if(a<(c=o/n|0))return null}if((a=b(a,n))<(o+l|0))return null;a=a-l|0}while(v<e);return i?a:0|-a}(t,10)}function Q(t,n,r,i){if(1===n.length)return function(t,n,r,i){rt(i);var o=0,e=tt(t,n,o,r);if(-1===e||1===i)return u=Yt(t),I([u]);var u;var f,c=i>0,a=yt(c?D(i,10):10);t:do{var v;if(v=Yt(Ft(t,o,e)),a.o1(v),o=e+n.length|0,c&&a.i()===(i-1|0))break t;e=tt(t,n,o,r)}while(-1!==e);return f=Yt(Ft(t,o,Zt(t))),a.o1(f),a}(t,It(n[0]),r,i);for(var o=function(t){return new M(t)}(function(t,n,r,i,o,e,u){return 0!=(2&e)&&(r=0),0!=(4&e)&&(i=!1),0!=(8&e)&&(o=0),function(t,n,r,i,o){return rt(o),new et(t,r,o,(e=n,u=i,function(t,n){var r=function(t,n,r,i){if(!i&&1===n.length&&"string"==typeof t){var o=t,e=It(function(t){var n;switch(t.length){case 0:throw Wn("Array is empty.");case 1:n=t[0];break;default:throw Hn("Array has more than one element.")}return n}(n));return o.indexOf(e,r)}var u=E(r,0),f=ut(t);if(u<=f)do{var c=u;u=u+1|0;var a,v=Xt(t,c);t:{for(var s=n,l=0,h=s.length;l<h;){var d=s[l];if(l=l+1|0,Y(d,v,i)){a=!0;break t}}a=!1}if(a)return c}while(c!==f);return-1}(t,e,n,u);return r<0?null:function(t,n){return new ct(t,n)}(r,1)}));var e,u}(t,n,r,i,o)}(t,n,0,r,i,2)),e=yt(function(t,n){return Ln(t,Ut)?t.i():n}(o,10)),u=o.c();u.d();){var f;f=nt(t,u.e()),e.o1(f)}return e}function tt(t,n,r,i){return i||"string"!=typeof t?function(t,n,r,i,o,e,u,f){return 0!=(16&u)&&(e=!1),function(t,n,r,i,o,e){var u=e?function(t,n){return F().g(t,n,-1)}(D(r,ut(t)),E(i,0)):Cn(E(r,0),D(i,Zt(t)));if("string"==typeof t&&"string"==typeof n){var f=u.p_1,c=u.q_1,a=u.r_1;if(a>0&&f<=c||a<0&&c<=f)do{var v=f;if(f=f+a|0,Et(n,0,t,v,Zt(n),o))return v}while(v!==c)}else{var s=u.p_1,l=u.q_1,h=u.r_1;if(h>0&&s<=l||h<0&&l<=s)do{var d=s;if(s=s+h|0,ft(n,0,t,d,Zt(n),o))return d}while(d!==l)}return-1}(t,n,r,i,o,e)}(t,n,r,Zt(t),i,!1,16):t.indexOf(n,r)}function nt(t,n){return Yt(Ft(t,n.g1(),n.h1()+1|0))}function rt(t){if(!(t>=0))throw Hn(Yt("Limit must be non-negative, but was "+t))}function it(t){if(t.v1_1<0)t.t1_1=0,t.w1_1=null;else{var n;if(t.y1_1.b2_1>0){var r=t;r.x1_1=r.x1_1+1|0,n=r.x1_1>=t.y1_1.b2_1}else n=!1;if(n||t.v1_1>Zt(t.y1_1.z1_1))t.w1_1=Cn(t.u1_1,ut(t.y1_1.z1_1)),t.v1_1=-1;else{var i=t.y1_1.c2_1(t.y1_1.z1_1,t.v1_1);if(null==i)t.w1_1=Cn(t.u1_1,ut(t.y1_1.z1_1)),t.v1_1=-1;else{var o=i,e=o.f2(),u=o.g2();t.w1_1=function(t,n){return n<=ht().MIN_VALUE?K().f_1:Cn(t,n-1|0)}(t.u1_1,e),t.u1_1=e+u|0,t.v1_1=t.u1_1+(0===u?1:0)|0}}t.t1_1=1}}function ot(t){this.y1_1=t,this.t1_1=-1,this.u1_1=function(t,n,r){if(n>r)throw Hn("Cannot coerce value to an empty range: maximum "+r+" is less than minimum "+n+".");return t<n?n:t>r?r:t}(t.a2_1,0,Zt(t.z1_1)),this.v1_1=this.u1_1,this.w1_1=null,this.x1_1=0}function et(t,n,r,i){this.z1_1=t,this.a2_1=n,this.b2_1=r,this.c2_1=i}function ut(t){return Zt(t)-1|0}function ft(t,n,r,i,o,e){if(i<0||n<0||n>(Zt(t)-o|0)||i>(Zt(r)-o|0))return!1;var u=0;if(u<o)do{var f=u;if(u=u+1|0,!Y(Xt(t,n+f|0),Xt(r,i+f|0),e))return!1}while(u<o);return!0}function ct(t,n){this.d2_1=t,this.e2_1=n}function at(){}function vt(){}function st(){u=this}function lt(){f=this,this.MIN_VALUE=-2147483648,this.MAX_VALUE=2147483647,this.SIZE_BYTES=4,this.SIZE_BITS=32}function ht(){return null==f&&new lt,f}function dt(t){for(var n=[],r=t.c();r.d();)n.push(r.e());return n}function pt(){S.call(this)}function _t(t){this.r2_1=t,this.p2_1=0,this.q2_1=-1}function wt(){pt.call(this),this.t2_1=0}function yt(t){return n=Object.create($t.prototype),r=[],$t.call(n,r),n;var n,r}function $t(t){wt.call(this),this.r1_1=t,this.s1_1=!1}function gt(t){return!(t==t)}function mt(t){return At.call(t,""),t}function bt(){return mt(Object.create(At.prototype))}function At(t){this.p1_1=void 0!==t?t:""}function qt(t){var n=It(t).toUpperCase();return n.length>1?t:Xt(n,0)}function xt(t){if(!(2<=t&&t<=36))throw Hn("radix "+t+" was not in valid range 2..36");return t}function Dt(t,n){var r,i,o,e=St(t,48)>=0&&St(t,57)<=0?Ct(t,48):St(t,65)>=0&&St(t,90)<=0?Ct(t,65)+10|0:St(t,97)>=0&&St(t,122)<=0?Ct(t,97)+10|0:St(t,128)<0?-1:St(t,65313)>=0&&St(t,65338)<=0?Ct(t,65313)+10|0:St(t,65345)>=0&&St(t,65370)<=0?Ct(t,65345)+10|0:(r=jt(t),i=function(t,n){for(var r=0,i=t.length-1|0,o=-1,e=0;r<=i;)if(n>(e=t[o=(r+i|0)/2|0]))r=o+1|0;else{if(n===e)return o;i=o-1|0}return o-(n<e?1:0)|0}(Bn().y3_1,r),(o=r-Bn().y3_1[i]|0)<10?o:-1);return e>=n?-1:e}function Et(t,n,r,i,o,e){return ft(t,n,r,i,o,e)}function Mt(t){return t}function St(t,n){return t-n|0}function Ct(t,n){return t-n|0}function jt(t){return t}function It(t){return String.fromCharCode(t)}function kt(){a=this,this.w2_1=0,this.x2_1=65535,this.y2_1=55296,this.z2_1=56319,this.a3_1=56320,this.b3_1=57343,this.c3_1=55296,this.d3_1=57343,this.e3_1=2,this.f3_1=16}function Lt(){return null==a&&new kt,a}function Ot(t){Lt(),this.m1_1=t}function Tt(){}function Ut(){}function Vt(){v=this}function zt(t,n){null==v&&new Vt,this.g3_1=t,this.h3_1=n}function Nt(t){var n=null==t?null:Yt(t);return null==n?"null":n}function Bt(t){var n,r;if(0===t.length)r=new Int32Array(0);else{for(var i=Math.max.apply(null,t),o=new Int32Array(1+(i>>5)|0),e=t,u=0,f=e.length;u<f;){var c=e[u];u=u+1|0;var a=c>>5,v=1<<(31&c);o[a]=o[a]|v}r=o}n=r,this.i3_1=n}function Rt(t){return function(n,r){return t>=r.i3_1.length?n:n|r.i3_1[t]}}function Pt(t,n){var r=0,i=t.length-1|0;if(r<=i)do{var o=r;r=r+1|0,t[o]=n}while(o!==i);return t}function Kt(t){this.l3_1=t,this.k3_1=0}function Xt(t,n){var r;if(Ht(t)){var i,o=t.charCodeAt(n);if(Lt(),o<0?i=!0:(Lt(),i=o>65535),i)throw Hn("Invalid Char code: "+o);r=function(t){return n=function(t){return t<<16>>16}(Sn(t)),65535&n;var n}(o)}else r=t.i2(n);return r}function Ht(t){return"string"==typeof t}function Zt(t){return Ht(t)?t.length:t.h2()}function Ft(t,n,r){return Ht(t)?t.substring(n,r):t.j2(n,r)}function Jt(t){return n=", ",r="[",i="]",o=0,e=null,u=Wt,0!=(1&(f=24))&&(n=", "),0!=(2&f)&&(r=""),0!=(4&f)&&(i=""),0!=(8&f)&&(o=-1),0!=(16&f)&&(e="..."),0!=(32&f)&&(u=null),q(t,n,r,i,o,e,u);var n,r,i,o,e,u,f}function Wt(t){return Yt(t)}function Yt(t){return null==t?"null":function(t){return n=t,!!Array.isArray(n)||A(t);var n}(t)?"[...]":t.toString()}function Gt(t,n){return null==t?null==n:null!=n&&("object"==typeof t&&"function"==typeof t.equals?t.equals(n):t!=t?n!=n:"number"==typeof t&&"number"==typeof n?t===n&&(0!==t||1/t==1/n):t===n)}function Qt(t,n){null!=Error.captureStackTrace?Error.captureStackTrace(t,n):t.stack=(new Error).stack}function tn(t,n,r){Error.call(t),function(t,n,r){if(!nn(t,"message")){var i;if(null==n){var o;if(null!==n){var e=null==r?null:r.toString();o=null==e?void 0:e}else o=void 0;i=o}else i=n;t.message=i}nn(t,"cause")||(t.cause=r),t.name=Object.getPrototypeOf(t).constructor.name}(t,n,r)}function nn(t,n){return Object.getPrototypeOf(t).hasOwnProperty(n)}function rn(){throw fr()}function on(){s=this,this.m3_1=new en(0,-2147483648),this.n3_1=new en(-1,2147483647),this.o3_1=8,this.p3_1=64}function en(t,n){null==s&&new on,vt.call(this),this.q3_1=t,this.r3_1=n}function un(){return Mn(),l}function fn(){return Mn(),h}function cn(){return Mn(),d}function an(){return Mn(),_}function vn(){return Mn(),w}function sn(t,n){if(Mn(),wn(t,n))return 0;var r=gn(t),i=gn(n);return r&&!i?-1:!r&&i?1:gn(hn(t,n))?-1:1}function ln(t,n){Mn();var r=t.r3_1>>>16|0,i=65535&t.r3_1,o=t.q3_1>>>16|0,e=65535&t.q3_1,u=n.r3_1>>>16|0,f=65535&n.r3_1,c=n.q3_1>>>16|0,a=0,v=0,s=0,l=0;return a=(a=a+((v=(v=v+((s=(s=s+((l=l+(e+(65535&n.q3_1)|0)|0)>>>16|0)|0)+(o+c|0)|0)>>>16|0)|0)+(i+f|0)|0)>>>16|0)|0)+(r+u|0)|0,new en((s&=65535)<<16|(l&=65535),(a&=65535)<<16|(v&=65535))}function hn(t,n){return Mn(),ln(t,n.u3())}function dn(t,n){if(Mn(),mn(t))return un();if(mn(n))return un();if(wn(t,an()))return bn(n)?an():un();if(wn(n,an()))return bn(t)?an():un();if(gn(t))return gn(n)?dn(An(t),An(n)):An(dn(An(t),n));if(gn(n))return An(dn(t,An(n)));if(qn(t,vn())&&qn(n,vn()))return xn(_n(t)*_n(n));var r=t.r3_1>>>16|0,i=65535&t.r3_1,o=t.q3_1>>>16|0,e=65535&t.q3_1,u=n.r3_1>>>16|0,f=65535&n.r3_1,c=n.q3_1>>>16|0,a=65535&n.q3_1,v=0,s=0,l=0,h=0;return l=l+((h=h+b(e,a)|0)>>>16|0)|0,h&=65535,s=(s=s+((l=l+b(o,a)|0)>>>16|0)|0)+((l=(l&=65535)+b(e,c)|0)>>>16|0)|0,l&=65535,v=(v=(v=v+((s=s+b(i,a)|0)>>>16|0)|0)+((s=(s&=65535)+b(o,c)|0)>>>16|0)|0)+((s=(s&=65535)+b(e,f)|0)>>>16|0)|0,s&=65535,v=v+(((b(r,a)+b(i,c)|0)+b(o,f)|0)+b(e,u)|0)|0,new en(l<<16|h,(v&=65535)<<16|s)}function pn(t,n){if(Mn(),mn(n))throw Pn("division by zero");if(mn(t))return un();if(wn(t,an())){if(wn(n,fn())||wn(n,cn()))return an();if(wn(n,an()))return fn();var r=function(t,n){Mn();var r=63&n;return 0===r?t:r<32?new en(t.q3_1<<r,t.r3_1<<r|t.q3_1>>>(32-r|0)|0):new en(0,t.q3_1<<(r-32|0))}(function(t,n){Mn();var r=63&n;return 0===r?t:r<32?new en(t.q3_1>>>r|0|t.r3_1<<(32-r|0),t.r3_1>>r):new en(t.r3_1>>(r-32|0),t.r3_1>=0?0:-1)}(t,1).t3(n),1);return wn(r,un())?gn(n)?fn():cn():ln(r,hn(t,dn(n,r)).t3(n))}if(wn(n,an()))return un();if(gn(t))return gn(n)?An(t).t3(An(n)):An(An(t).t3(n));if(gn(n))return An(t.t3(An(n)));for(var i=un(),o=t;En(o,n);){for(var e=_n(o)/_n(n),u=Math.max(1,Math.floor(e)),f=Math.ceil(Math.log(u)/Math.LN2),c=f<=48?1:Math.pow(2,f-48),a=xn(u),v=dn(a,n);gn(v)||Dn(v,o);)v=dn(a=xn(u-=c),n);mn(a)&&(a=fn()),i=ln(i,a),o=hn(o,v)}return i}function _n(t){return Mn(),4294967296*t.r3_1+function(t){return Mn(),t.q3_1>=0?t.q3_1:4294967296+t.q3_1}(t)}function wn(t,n){return Mn(),t.r3_1===n.r3_1&&t.q3_1===n.q3_1}function yn(t,n){if(Mn(),n<2||36<n)throw Pn("radix out of range: "+n);if(mn(t))return"0";if(gn(t)){if(wn(t,an())){var r=$n(n),i=t.t3(r),o=hn(dn(i,r),t).w3();return yn(i,n)+o.toString(n)}return"-"+yn(An(t),n)}for(var e=2===n?31:n<=10?9:n<=21?7:n<=35?6:5,u=xn(Math.pow(n,e)),f=t,c="";;){var a=f.t3(u),v=hn(f,dn(a,u)).w3().toString(n);if(mn(f=a))return v+c;for(;v.length<e;)v="0"+v;c=v+c}}function $n(t){return Mn(),new en(t,t<0?-1:0)}function gn(t){return Mn(),t.r3_1<0}function mn(t){return Mn(),0===t.r3_1&&0===t.q3_1}function bn(t){return Mn(),1==(1&t.q3_1)}function An(t){return Mn(),t.u3()}function qn(t,n){return Mn(),sn(t,n)<0}function xn(t){if(Mn(),gt(t))return un();if(t<=-0x8000000000000000)return an();if(t+1>=0x8000000000000000)return Mn(),p;if(t<0)return An(xn(-t));var n=4294967296;return new en(sr(t%n,0),sr(t/n,0))}function Dn(t,n){return Mn(),sn(t,n)>0}function En(t,n){return Mn(),sn(t,n)>=0}function Mn(){y||(y=!0,l=$n(0),h=$n(1),d=$n(-1),p=new en(-1,2147483647),_=new en(0,-2147483648),w=$n(16777216))}function Sn(t){return t instanceof en?t.w3():function(t){return t>2147483647?2147483647:t<-2147483648?-2147483648:sr(t,0)}(t)}function Cn(t,n){return new X(t,n)}function jn(t,n,r,i){return In("class",t,n,r,i,null)}function In(t,n,r,i,o,e){return{kind:t,simpleName:n,associatedObjectKey:r,associatedObjects:i,suspendArity:o,$kClass$:void 0,iid:e}}function kn(t,n,r,i,o,e,u,f){null!=i&&(t.prototype=Object.create(i.prototype),t.prototype.constructor=t);var c=r(n,e,u,f);t.$metadata$=c,null!=o&&((null!=c.iid?t:t.prototype).$imask$=function(t){for(var n=1,r=[],i=t,o=0,e=i.length;o<e;){var u=i[o];o=o+1|0;var f=n,c=u.prototype.$imask$,a=null==c?u.$imask$:c;null!=a&&(r.push(a),f=a.i3_1.length);var v=u.$metadata$.iid,s=null==v?null:new Bt([v]);null!=s&&(r.push(s),f=Math.max(f,s.i3_1.length)),f>n&&(n=f)}for(var l=0,h=n,d=new Int32Array(h);l<h;){var p,_=l;p=r.reduce(Rt(_),0),d[_]=p,l=l+1|0}var w=d,y=new Bt([]);return y.i3_1=w,y}(o.slice()))}function Ln(t,n){return null!=t.$imask$?function(t,n){var r;return null!=(r=t.$imask$)&&r.j3(n)}(t,n.$metadata$.iid):On(t,n)}function On(t,n){var r=function(t){if(null==t)return null;for(var n=t.$metadata$,r=Tn(t);null==n&&null!=r;)n=r.constructor.$metadata$,r=Tn(r);return n}(t);if(null==r)return!1;var i,o=r.associatedObjectKey;return!(null==o||-1==o.indexOf(n)&&!o.some((i=n,function(t){return On(t,i)})))||On(Tn(t),n)}function Tn(t){return Object.getPrototypeOf(t)}function Un(t){return"string"==typeof t||Ln(t,at)}function Vn(t,n,r,i){return In("interface",t,n,r,i,$=null==$?1:$+1|0)}function zn(t,n,r,i){return In("object",t,n,r,i,null)}function Nn(){g=this;var t;t=new Int32Array([48,1632,1776,1984,2406,2534,2662,2790,2918,3046,3174,3302,3430,3558,3664,3792,3872,4160,4240,6112,6160,6470,6608,6784,6800,6992,7088,7232,7248,42528,43216,43264,43472,43504,43600,44016,65296]),this.y3_1=t}function Bn(){return null==g&&new Nn,g}function Rn(t,n){return tn(n,t,void 0),Kn.call(n),n}function Pn(t){var n=Rn(t,Object.create(Kn.prototype));return Qt(n,Pn),n}function Kn(){Qt(this,Kn)}function Xn(t,n){return Qn(t,n),Zn.call(n),n}function Hn(t){var n=Xn(t,Object.create(Zn.prototype));return Qt(n,Hn),n}function Zn(){Qt(this,Zn)}function Fn(){Qt(this,Fn)}function Jn(){var t,n=(Gn(t=Object.create(Yn.prototype)),Yn.call(t),t);return Qt(n,Jn),n}function Wn(t){var n=function(t,n){return Qn(t,n),Yn.call(n),n}(t,Object.create(Yn.prototype));return Qt(n,Wn),n}function Yn(){Qt(this,Yn)}function Gn(t){return function(t){tn(t,void 0,void 0),Kn.call(t)}(t),tr.call(t),t}function Qn(t,n){return Rn(t,n),tr.call(n),n}function tr(){Qt(this,tr)}function nr(t){var n=function(t,n){return Qn(t,n),rr.call(n),n}(t,Object.create(rr.prototype));return Qt(n,nr),n}function rr(){Qt(this,rr)}function ir(){var t,n=(Gn(t=Object.create(or.prototype)),or.call(t),t);return Qt(n,ir),n}function or(){Qt(this,or)}function er(t){var n=function(t,n){return Xn(t,n),ur.call(n),n}(t,Object.create(ur.prototype));return Qt(n,er),n}function ur(){Qt(this,ur)}function fr(){var t,n=(Gn(t=Object.create(cr.prototype)),cr.call(t),t);return Qt(n,fr),n}function cr(){Qt(this,cr)}function ar(t){var n=function(t,n){return Qn(t,n),vr.call(n),n}(t,Object.create(vr.prototype));return Qt(n,ar),n}function vr(){Qt(this,vr)}function sr(t,n){return t|n}return kn(M,void 0,jn,void 0,void 0,void 0,void 0,[]),kn(Ut,"Collection",Vn,void 0,void 0,void 0,void 0,[]),kn(S,"AbstractCollection",jn,void 0,[Ut],void 0,void 0,[]),kn(C,"Companion",zn,void 0,void 0,void 0,void 0,[]),kn(k,"ArrayAsCollection",jn,void 0,[Ut],void 0,void 0,[]),kn(L,"IntIterator",jn,void 0,void 0,void 0,void 0,[]),kn(z,"Random",jn,void 0,void 0,void 0,void 0,[]),kn(U,"Default",zn,z,void 0,void 0,void 0,[]),kn(B,"Companion",zn,void 0,void 0,void 0,void 0,[]),kn(R,"XorWowRandom",jn,z,void 0,void 0,void 0,[]),kn(P,"Companion",zn,void 0,void 0,void 0,void 0,[]),kn(J,"IntProgression",jn,void 0,void 0,void 0,void 0,[]),kn(X,"IntRange",jn,J,void 0,void 0,void 0,[]),kn(H,"IntProgressionIterator",jn,L,void 0,void 0,void 0,[]),kn(Z,"Companion",zn,void 0,void 0,void 0,void 0,[]),kn(ot,void 0,jn,void 0,void 0,void 0,void 0,[]),kn(et,"DelimitedRangesSequence",jn,void 0,void 0,void 0,void 0,[]),kn(ct,"Pair",jn,void 0,void 0,void 0,void 0,[]),kn(at,"CharSequence",Vn,void 0,void 0,void 0,void 0,[]),kn(vt,"Number",jn,void 0,void 0,void 0,void 0,[]),kn(st,"Unit",zn,void 0,void 0,void 0,void 0,[]),kn(lt,"IntCompanionObject",zn,void 0,void 0,void 0,void 0,[]),kn(pt,"AbstractMutableCollection",jn,S,[S,Ut],void 0,void 0,[]),kn(_t,"IteratorImpl",jn,void 0,void 0,void 0,void 0,[]),kn(Tt,"List",Vn,void 0,[Ut],void 0,void 0,[]),kn(wt,"AbstractMutableList",jn,pt,[pt,Tt,Ut],void 0,void 0,[]),kn($t,"ArrayList",jn,wt,[wt,Tt,Ut],void 0,void 0,[]),kn(At,"StringBuilder",jn,void 0,[at],void 0,void 0,[]),kn(kt,"Companion",zn,void 0,void 0,void 0,void 0,[]),kn(Ot,"Char",jn,void 0,void 0,void 0,void 0,[]),kn(Vt,"Companion",zn,void 0,void 0,void 0,void 0,[]),kn(zt,"Enum",jn,void 0,void 0,void 0,void 0,[]),kn(Bt,"BitMask",jn,void 0,void 0,void 0,void 0,[]),kn(Kt,void 0,jn,void 0,void 0,void 0,void 0,[]),kn(on,"Companion",zn,void 0,void 0,void 0,void 0,[]),kn(en,"Long",jn,vt,void 0,void 0,void 0,[]),kn(Nn,"Digit",zn,void 0,void 0,void 0,void 0,[]),kn(Kn,"Exception",jn,Error,void 0,void 0,void 0,[]),kn(tr,"RuntimeException",jn,Kn,void 0,void 0,void 0,[]),kn(Zn,"IllegalArgumentException",jn,tr,void 0,void 0,void 0,[]),kn(Fn,"IllegalStateException",jn,tr,void 0,void 0,void 0,[]),kn(Yn,"NoSuchElementException",jn,tr,void 0,void 0,void 0,[]),kn(rr,"IndexOutOfBoundsException",jn,tr,void 0,void 0,void 0,[]),kn(or,"UnsupportedOperationException",jn,tr,void 0,void 0,void 0,[]),kn(ur,"NumberFormatException",jn,Zn,void 0,void 0,void 0,[]),kn(cr,"ClassCastException",jn,tr,void 0,void 0,void 0,[]),kn(vr,"UninitializedPropertyAccessException",jn,tr,void 0,void 0,void 0,[]),M.prototype.c=function(){return this.h_1.c()},S.prototype.toString=function(){return t=", ",n="[",r="]",i=0,o=null,f=this,e=function(t){return t===f?"(this Collection)":Nt(t)},0!=(1&(u=24))&&(t=", "),0!=(2&u)&&(n=""),0!=(4&u)&&(r=""),0!=(8&u)&&(i=-1),0!=(16&u)&&(o="..."),0!=(32&u)&&(e=null),x(this,t,n,r,i,o,e);var t,n,r,i,o,e,u,f},S.prototype.toArray=function(){return dt(this)},C.prototype.j=function(t,n){if(t<0||t>=n)throw nr("index: "+t+", size: "+n)},C.prototype.k=function(t,n){if(t<0||t>n)throw nr("index: "+t+", size: "+n)},C.prototype.l=function(t,n){if(t.i()!==n.i())return!1;for(var r=n.c(),i=t.c();i.d();)if(!Gt(i.e(),r.e()))return!1;return!0},k.prototype.i=function(){return this.m_1.length},k.prototype.c=function(){return new Kt(this.m_1)},L.prototype.e=function(){return this.o()},U.prototype.y=function(t){return this.x_1.y(t)},U.prototype.o=function(){return this.x_1.o()},U.prototype.a=function(t){return this.x_1.a(t)},U.prototype.s=function(t,n){return this.x_1.s(t,n)},z.prototype.o=function(){return this.y(32)},z.prototype.a=function(t){return this.s(0,t)},z.prototype.s=function(t,n){N(t,n);var r=n-t|0;if(r>0||r===ht().MIN_VALUE){var i;if((r&(0|-r))===r){var o=31-m(r)|0;i=this.y(o)}else{var e;do{var u=this.o()>>>1|0;e=u%r|0}while(((u-e|0)+(r-1|0)|0)<0);i=e}return t+i|0}for(;;){var f=this.o();if(t<=f&&f<n)return f}},R.prototype.o=function(){var t=this.a1_1;t^=t>>>2|0,this.a1_1=this.b1_1,this.b1_1=this.c1_1,this.c1_1=this.d1_1;var n=this.e1_1;this.d1_1=n,t=t^t<<1^n^n<<4,this.e1_1=t;return this.f1_1=this.f1_1+362437|0,t+this.f1_1|0},R.prototype.y=function(t){return function(t,n){return(t>>>(32-n|0)|0)&(0|-n)>>31}(this.o(),t)},X.prototype.g1=function(){return this.p_1},X.prototype.h1=function(){return this.q_1},X.prototype.w=function(){return this.p_1>this.q_1},X.prototype.equals=function(t){return t instanceof X&&(!(!this.w()||!t.w())||this.p_1===t.p_1&&this.q_1===t.q_1)},X.prototype.toString=function(){return this.p_1+".."+this.q_1},H.prototype.d=function(){return this.k1_1},H.prototype.o=function(){var t=this.l1_1;if(t===this.j1_1){if(!this.k1_1)throw Jn();this.k1_1=!1}else{this.l1_1=this.l1_1+this.i1_1|0}return t},Z.prototype.g=function(t,n,r){return new J(t,n,r)},J.prototype.c=function(){return new H(this.p_1,this.q_1,this.r_1)},J.prototype.w=function(){return this.r_1>0?this.p_1>this.q_1:this.p_1<this.q_1},J.prototype.equals=function(t){return t instanceof J&&(!(!this.w()||!t.w())||this.p_1===t.p_1&&this.q_1===t.q_1&&this.r_1===t.r_1)},J.prototype.toString=function(){return this.r_1>0?this.p_1+".."+this.q_1+" step "+this.r_1:this.p_1+" downTo "+this.q_1+" step "+(0|-this.r_1)},ot.prototype.e=function(){if(-1===this.t1_1&&it(this),0===this.t1_1)throw Jn();var t=this.w1_1,n=t instanceof X?t:rn();return this.w1_1=null,this.t1_1=-1,n},ot.prototype.d=function(){return-1===this.t1_1&&it(this),1===this.t1_1},et.prototype.c=function(){return new ot(this)},ct.prototype.toString=function(){return"("+this.d2_1+", "+this.e2_1+")"},ct.prototype.f2=function(){return this.d2_1},ct.prototype.g2=function(){return this.e2_1},ct.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ct))return!1;var n=t instanceof ct?t:rn();return!!Gt(this.d2_1,n.d2_1)&&!!Gt(this.e2_1,n.e2_1)},st.prototype.toString=function(){return"kotlin.Unit"},lt.prototype.k2=function(){return this.MIN_VALUE},lt.prototype.l2=function(){return this.MAX_VALUE},lt.prototype.m2=function(){return this.SIZE_BYTES},lt.prototype.n2=function(){return this.SIZE_BITS},pt.prototype.toJSON=function(){return this.toArray()},pt.prototype.o2=function(){},_t.prototype.d=function(){return this.p2_1<this.r2_1.i()},_t.prototype.e=function(){if(!this.d())throw Jn();var t=this.p2_1;return this.p2_1=t+1|0,this.q2_1=t,this.r2_1.s2(this.q2_1)},wt.prototype.o1=function(t){return this.o2(),this.u2(this.i(),t),!0},wt.prototype.c=function(){return new _t(this)},wt.prototype.equals=function(t){return t===this||!(null==t||!Ln(t,Tt))&&j().l(this,t)},$t.prototype.i=function(){return this.r1_1.length},$t.prototype.s2=function(t){var n=this.r1_1[function(t,n){return j().j(n,t.i()),n}(this,t)];return null==n||function(t){switch(typeof t){case"string":case"number":case"boolean":case"function":return!0;default:return t instanceof Object}}(n)?n:rn()},$t.prototype.o1=function(t){this.o2(),this.r1_1.push(t);var n=this.t2_1;return this.t2_1=n+1|0,!0},$t.prototype.u2=function(t,n){this.o2(),this.r1_1.splice(function(t,n){return j().k(n,t.i()),n}(this,t),0,n);var r=this.t2_1;this.t2_1=r+1|0},$t.prototype.toString=function(){return Jt(this.r1_1)},$t.prototype.v2=function(){return[].slice.call(this.r1_1)},$t.prototype.toArray=function(){return this.v2()},$t.prototype.o2=function(){if(this.s1_1)throw ir()},At.prototype.h2=function(){return this.p1_1.length},At.prototype.i2=function(t){var n=this.p1_1;if(!(t>=0&&t<=ut(n)))throw nr("index: "+t+", length: "+this.h2()+"}");return Xt(n,t)},At.prototype.j2=function(t,n){return this.p1_1.substring(t,n)},At.prototype.n1=function(t){return this.p1_1=this.p1_1+new Ot(t),this},At.prototype.b=function(t){return this.p1_1=this.p1_1+Nt(t),this},At.prototype.toString=function(){return this.p1_1},Ot.prototype.equals=function(t){return function(t,n){return n instanceof Ot&&t===n.m1_1}(this.m1_1,t)},Ot.prototype.toString=function(){return It(this.m1_1)},zt.prototype.equals=function(t){return this===t},zt.prototype.toString=function(){return this.g3_1},Bt.prototype.j3=function(t){var n=t>>5;if(n>this.i3_1.length)return!1;var r=1<<(31&t);return!(0==(this.i3_1[n]&r))},Kt.prototype.d=function(){return!(this.k3_1===this.l3_1.length)},Kt.prototype.e=function(){if(this.k3_1===this.l3_1.length)throw Wn(""+this.k3_1);var t=this.k3_1;return this.k3_1=t+1|0,this.l3_1[t]},en.prototype.s3=function(t){return ln(this,t)},en.prototype.t3=function(t){return pn(this,t)},en.prototype.u3=function(){return this.v3().s3(new en(1,0))},en.prototype.v3=function(){return new en(~this.q3_1,~this.r3_1)},en.prototype.w3=function(){return this.q3_1},en.prototype.x3=function(){return _n(this)},en.prototype.valueOf=function(){return this.x3()},en.prototype.equals=function(t){return t instanceof en&&wn(this,t)},en.prototype.toString=function(){return yn(this,10)},$=null,t.$_$=t.$_$||{},t.$_$.a=function(t,n,r,i,o,e){return 0!=(2&o)&&(r=0),0!=(4&o)&&(i=!1),tt(t,n,r,i)},t.$_$.b=function(t,n,r,i,o,e){return 0!=(2&o)&&(r=!1),0!=(4&o)&&(i=0),Q(t,n,r,i)},t.$_$.c=Hn,t.$_$.d=function t(n){var r=function(t,n){return Qn(t,n),Fn.call(n),n}(n,Object.create(Fn.prototype));return Qt(r,t),r},t.$_$.e=Mt,t.$_$.f=V,t.$_$.g=function(){return null==u&&new st,u},t.$_$.h=function(t,n){return function(t,n){var r=0,i=t.length-1|0;if(r<=i)do{var o=r;if(r=r+1|0,n===t[o])return o}while(r<=i);return-1}(t,n)>=0},t.$_$.i=function(t,n){if(0===t.length)throw Wn("Array is empty.");return t[n.a(t.length)]},t.$_$.j=function(t){var n=Pt(Array(t),!1);return n.$type$="BooleanArray",n},t.$_$.k=function(t){var n=new Uint16Array(t);return n.$type$="CharArray",n},t.$_$.l=Xt,t.$_$.m=jn,t.$_$.n=Gt,t.$_$.o=Pt,t.$_$.p=Cn,t.$_$.q=kn,t.$_$.r=Yt,t.$_$.s=function(t){if(gt(t))throw Hn("Cannot round NaN value.");return t>ht().MAX_VALUE?ht().MAX_VALUE:t<ht().MIN_VALUE?ht().MIN_VALUE:Sn(Math.round(t))},t.$_$.t=function(t,n){if(n.w())throw Hn("Cannot get random in empty range: "+n);return n.q_1<ht().MAX_VALUE?t.s(n.p_1,n.q_1+1|0):n.p_1>ht().MIN_VALUE?t.s(n.p_1-1|0,n.q_1)+1|0:t.o()},t.$_$.u=function(t,n,r){return Yt(function(t,n,r){if(n<0)throw Hn("Desired length "+n+" is less than zero.");if(n<=Zt(t))return Ft(t,0,Zt(t));var i=(u=Object.create(At.prototype),mt(u),u),o=1,e=n-Zt(t)|0;var u;if(o<=e)do{var f=o;o=o+1|0,i.n1(r)}while(f!==e);return i.b(t),i}(Un(t)?t:rn(),n,r))},t.$_$.v=function(t){var n,r=G(t);return null==r?function(t){throw er("Invalid number format: '"+t+"'")}(t):n=r,n},t.$_$.w=function(t,n){return t.toString(xt(n))},t.$_$.x=Ot,t.$_$.y=zt,t.$_$.z=rn,t.$_$.a1=function(t){throw ar("lateinit property "+t+" has not been initialized")},t})?r.apply(n,[n]):r)||(t.exports=i)},595:function(t,n,r){var i,o,e;o=[n,r(744)],void 0===(e="function"==typeof(i=function(t,n){"use strict";var r,i,o,e,u,f,c,a,v,s,l,h,d,p,_,w,y,$,g,m,b,A,q,x,D,E,M,S,C,j=Math.imul,I=n.$_$.g,k=n.$_$.s,L=n.$_$.w,O=n.$_$.e,T=n.$_$.u,U=n.$_$.k,V=n.$_$.b,z=n.$_$.l,N=n.$_$.x,B=n.$_$.n,R=n.$_$.a,P=n.$_$.m,K=n.$_$.q,X=n.$_$.d,H=n.$_$.y,Z=n.$_$.a1,F=n.$_$.z,J=n.$_$.r,W=n.$_$.c,Y=n.$_$.f,G=n.$_$.p,Q=n.$_$.t,tt=n.$_$.v,nt=n.$_$.i,rt=n.$_$.h,it=n.$_$.o,ot=n.$_$.j;function et(t,n,r){var i=r/100,o=1-i,e=n*Math.min(i,o)/100;return"#"+ut(t,i,e,0)+ut(t,i,e,8)+ut(t,i,e,4)}function ut(t,n,r,i){var o,e=(i+t/30)%12,u=e-3,f=9-e,c=Math.min(u,f,1);return o=Math.max(c,-1),T(L(k(255*(n-r*o)),16),2,O(48))}function ft(t){for(var n=document.cookie,r=U([O(59)]),i=V(n,r,!1,0,6,null).c();i.d();){for(var o=i.e();B(new N(z(o,0)),new N(O(32)));)o=o.substring(1);if(0===R(o,t+"=",0,!1,6,null)){var e=o,u=(t+"=").length,f=o.length;return e.substring(u,f)}}return null}function ct(){wt.call(this,"I",0),r=this}function at(){wt.call(this,"L",1),i=this}function vt(){wt.call(this,"J",2),o=this}function st(){wt.call(this,"T",3),e=this}function lt(){wt.call(this,"O",4),u=this}function ht(){wt.call(this,"Z",5),f=this}function dt(){wt.call(this,"S",6),c=this}function pt(){return[(_t(),r),(_t(),i),(_t(),o),(_t(),e),(_t(),u),(_t(),f),(_t(),c)]}function _t(){if(a)return I();a=!0,r=new ct,i=new at,o=new vt,e=new st,u=new lt,f=new ht,c=new dt}function wt(t,n){H.call(this,t,n);var r;r=[[new yt(0,0),new yt(-1,0),new yt(-1,1),new yt(0,-2),new yt(-1,-2)],[new yt(0,0),new yt(1,0),new yt(1,-1),new yt(0,2),new yt(1,2)],[new yt(0,0),new yt(1,0),new yt(1,1),new yt(0,-2),new yt(1,-2)],[new yt(0,0),new yt(-1,0),new yt(-1,-1),new yt(0,2),new yt(-1,2)]],this.j4_1=r;var i;i=[[new yt(0,0),new yt(-2,0),new yt(1,0),new yt(-2,-1),new yt(1,2)],[new yt(0,0),new yt(-1,0),new yt(2,0),new yt(-1,2),new yt(2,-1)],[new yt(0,0),new yt(2,0),new yt(-1,0),new yt(2,1),new yt(-1,-2)],[new yt(0,0),new yt(1,0),new yt(-2,0),new yt(1,-2),new yt(-2,1)]],this.k4_1=i}function yt(t,n){this.m5_1=t,this.n5_1=n}function $t(){return fn(),v}function gt(){return fn(),s}function mt(){return fn(),l}function bt(){return fn(),h}function At(){return fn(),d}function qt(){return fn(),p}function xt(t){fn(),_=t}function Dt(){return fn(),_}function Et(t){fn(),w=t}function Mt(){return fn(),w}function St(t){fn(),y=t}function Ct(t){fn(),$=t}function jt(){return fn(),$}function It(t){fn(),g=t}function kt(){return fn(),g}function Lt(t){fn(),m=t}function Ot(){return fn(),m}function Tt(t){fn(),b=t}function Ut(){return fn(),b}function Vt(t){fn(),A=t}function zt(){if(fn(),null!=q)return q;Z("canvasView")}function Nt(){if(fn(),null!=x)return x;Z("tetrisContext")}function Bt(){if(fn(),null!=D)return D;Z("nextView")}function Rt(){if(fn(),null!=E)return E;Z("nextContext")}function Pt(){if(fn(),null!=M)return M;Z("scoreView")}function Kt(){if(fn(),null!=S)return S;Z("bestView")}function Xt(){fn();var t=0;if(t<20)do{var n=t;t=t+1|0;var r=0;if(r<10)do{var i=r;r=r+1|0,$t()[n][i]="#DDDDD7"}while(r<10)}while(t<20);Yt(),xt(3),Et(-3),Ct(0),Pt().innerHTML=jt().toString(),It(Q(Y(),G(0,360))),Lt(kt()+10|0),Tt(!1),Gt(),function(){fn();var t=ft("tetris");null!=t&&(Kt().innerHTML=t)}()}function Ht(){fn();var t,n,r,i,o=ft("tetris"),e=null==o?null:tt(o);(null==e||e<jt())&&(t="tetris",n=jt().toString(),r=365,i="expires="+new Date(Date.now()+j(j(j(j(r,24),60),60),1e3)).toUTCString(),document.cookie=t+"="+n+";"+i+";path=/",Kt().innerHTML=jt().toString())}function Zt(){fn();var t=0;if(t<4)do{var n=t;t=t+1|0;var r=0;if(r<4)do{var i=r;r=r+1|0,bt()[n][i]=gt()[n][i]}while(r<4)}while(t<4);var o=(fn(),y),e=0;if(e<4)do{e=e+1|0,o=(o+1|0)%4|0,At().g4(bt());var u=0;if(u<5)do{var f=u;u=u+1|0;var c=At().m4(o,f);if(!on(bt(),c.n5_1,c.m5_1)){xt(Dt()+c.m5_1|0),Et(Mt()+c.n5_1|0);var a=0;if(a<4)do{var v=a;a=a+1|0;var s=0;if(s<4)do{var l=s;s=s+1|0,gt()[v][l]=bt()[v][l]}while(s<4)}while(a<4);return St(o),I()}}while(u<5)}while(e<4)}function Ft(){if(fn(),!Ut())return I();var t;nn(),Gt(),Ut()&&window.setTimeout(((t=function(){return Ft(),I()}).callableName="shiftFigure",t),60)}function Jt(){fn();var t=function(){fn();var t=0;if(t<4)do{var n=t;t=t+1|0;var r=0;if(r<4)do{var i=r;if(r=r+1|0,gt()[i][n])return n}while(r<4)}while(t<4);throw X("Empty figure")}();if((Dt()+t|0)<=0)return!1;var n=Mt(),r=Dt(),i=0;if(i<4)do{var o=i;i=i+1|0;var e=0;if(e<4)do{var u=e;e=e+1|0;var f=u+r|0,c=o+n|0;if(0<=c&&c<=20){var a=f-1|0;if(0<=a&&a<=10){if(gt()[o][u]&&"#DDDDD7"!==$t()[c][f-1|0])return!1}else I()}else I()}while(e<4)}while(i<4);return!0}function Wt(){fn();var t=function(){fn();var t=3;if(0<=t)do{var n=t;t=t+-1|0;var r=0;if(r<4)do{var i=r;if(r=r+1|0,gt()[i][n])return n}while(r<4)}while(0<=t);throw X("Empty figure")}();if((Dt()+t|0)>=9)return!1;var n=Mt(),r=Dt(),i=0;if(i<4)do{var o=i;i=i+1|0;var e=0;if(e<4)do{var u=e;e=e+1|0;var f=u+r|0,c=o+n|0;if(0<=c&&c<=20){var a=f+1|0;if(0<=a&&a<=10){if(gt()[o][u]&&"#DDDDD7"!==$t()[c][f+1|0])return!1}else I()}else I()}while(e<4)}while(i<4);return!0}function Yt(){fn();var t=0;if(t<4)do{var n=t;t=t+1|0;var r=0;if(r<4)do{var i=r;r=r+1|0,gt()[n][i]=!1}while(r<4)}while(t<4);var o,e=0;if(e<2)do{var u=e;e=e+1|0;var f=0;if(f<4)do{var c=f;f=f+1|0,mt()[u][c]=!1}while(f<4)}while(e<2);o=qt(),fn(),d=o;var a=pt();(function(t){fn(),p=t})(nt(a,Y())),At().f4(gt()),qt().f4(mt()),St(0)}function Gt(){fn(),Nt().clearRect(0,0,zt().width,zt().height),Rt().clearRect(0,0,Bt().width,Bt().height);var t=0;if(t<20)do{var n=t;t=t+1|0;var r=0;if(r<10)do{var i=r;r=r+1|0,Nt().fillStyle=$t()[n][i],Qt(Nt(),i,n,25)}while(r<10)}while(t<20);var o=0;if(o<2)do{var e=o;o=o+1|0;var u=0;if(u<4)do{var f=u;u=u+1|0,mt()[e][f]?Rt().fillStyle=et(Ot(),80,40):Rt().fillStyle="#DDDDD7",tn(Rt(),f,e,0,4)}while(u<4)}while(o<2);for(var c=Mt();!rn(c);)c=c+1|0;Nt().fillStyle="#CCCCCC";var a=0;if(a<4)do{var v=a;a=a+1|0;var s=0;if(s<4)do{var l=s;s=s+1|0;var h=l+Dt()|0,d=v+c|0;0<=d&&d<20&&0<=h&&h<10&&gt()[v][l]&&Qt(Nt(),h,d,25)}while(s<4)}while(a<4);Nt().fillStyle=et(kt(),80,40);var p=Mt(),_=Dt(),w=0;if(w<4)do{var y=w;w=w+1|0;var $=0;if($<4)do{var g=$;$=$+1|0;var m=g+_|0,b=y+p|0;0<=b&&b<20&&0<=m&&m<10&&gt()[y][g]&&Qt(Nt(),m,b,25)}while($<4)}while(w<4)}function Qt(t,n,r,i){fn(),function(t,n,r,i,o,e,u,f){t.beginPath(),t.moveTo(n+e,r),t.lineTo(n+i-e,r),t.quadraticCurveTo(n+i,r,n+i,r+e),t.lineTo(n+i,r+o-e),t.quadraticCurveTo(n+i,r+o,n+i-e,r+o),t.lineTo(n+e,r+o),t.quadraticCurveTo(n,r+o,n,r+o-e),t.lineTo(n,r+e),t.quadraticCurveTo(n,r,n+e,r),t.closePath(),u&&t.fill(),f&&t.stroke()}(t,j(n,25)+i|0,j(r,25)+i|0,23,23,5,!0,!1)}function tn(t,n,r,i,o,e){return 0!=(4&o)&&(i=0),Qt(t,n,r,i)}function nn(){if(fn(),rn(Mt()))if(function(){fn();var t=Mt(),n=(Dt(),0);if(n<4)do{var r=n;n=n+1|0;var i=0;if(i<4)do{var o=i;i=i+1|0;var e=r+t|0;if(gt()[r][o]&&!(0<=e&&e<20))return!0}while(i<4)}while(n<4);return!1}())Xt();else{(function(){fn();var t=Mt(),n=Dt(),r=0;if(r<4)do{var i=r;r=r+1|0;var o=0;if(o<4)do{var e=o;o=o+1|0;var u=e+n|0,f=i+t|0;0<=u&&u<10&&0<=f&&f<20&&"#DDDDD7"===$t()[f][u]&&gt()[i][e]&&(console.log("dumping "+kt()+" "+et(kt(),80,40)),$t()[f][u]=et(kt(),80,40))}while(o<4)}while(r<4)})(),Yt(),Et(-3),xt(3),function(){fn();for(var t=19;t>=0;){var n;t:{for(var r=$t()[t],i=0,o=r.length;i<o;){var e=r[i];if(i=i+1|0,"#DDDDD7"===e){n=!1;break t}}n=!0}if(n){var u=t;if(1<=u)do{var f=u;u=u+-1|0;var c=0,a=10;if(c<a)do{var v=c;c=c+1|0,$t()[f][v]=$t()[f-1|0][v]}while(c<a)}while(1<=u);Ct(jt()+1|0),Pt().innerHTML=jt().toString(),Ht()}else t=t-1|0}}();var t=(kt()+10|0)%360|0;It(t+(360&((360^t)&(0|t|-t))>>31)|0);var n=(Ot()+10|0)%360|0;Lt(n+(360&((360^n)&(0|n|-n))>>31)|0)}Et(Mt()+1|0)}function rn(t){var n;fn();t:{var r=gt(),i=r.length-1|0;if(0<=i)do{var o=i;i=i+-1|0;var e=r[o];if(rt(e,!0)){n=o;break t}}while(0<=i);n=-1}if((1+(t+n|0)|0)>=20)return!0;var u=Dt(),f=0;if(f<4)do{var c=f;f=f+1|0;var a=0;if(a<4)do{var v=a;a=a+1|0;var s=v+u|0,l=c+t|0;if(0<=l&&l<20&&0<=s&&s<10&&gt()[c][v]&&"#DDDDD7"!==$t()[l+1|0][s])return!0}while(a<4)}while(f<4);return!1}function on(t,n,r){fn();var i=0;if(i<4)do{var o=i;i=i+1|0;var e=0;if(e<4)do{var u=e;e=e+1|0;var f=(u+Dt()|0)+r|0,c=(o+Mt()|0)+n|0;if(t[o][u]&&!(0<=f&&f<10))return!0;if(0<=c&&c<20&&0<=f&&f<10&&t[o][u]&&"#DDDDD7"!==$t()[c][f])return!0}while(e<4)}while(i<4);return!1}function en(){}function un(){}function fn(){if(C);else{C=!0;for(var t=0,n=it(Array(20),null);t<20;){for(var r,i=t,o=0,e=it(Array(10),null);o<10;){"#DDDDD7",e[o]="#DDDDD7",o=o+1|0}r=e,n[i]=r,t=t+1|0}v=n;for(var u=0,f=it(Array(4),null);u<4;){var c,a=u;c=ot(4),f[a]=c,u=u+1|0}s=f;for(var q=0,x=it(Array(2),null);q<2;){var D,E=q;D=ot(4),x[E]=D,q=q+1|0}l=x;for(var M,S=0,j=it(Array(4),null);S<4;){var I,k=S;I=ot(4),j[k]=I,S=S+1|0}h=j;var L,O=pt();M=nt(O,Y()),d=M;var T=pt();L=nt(T,Y()),p=L,_=3,w=-3,y=0,$=0,g=Q(Y(),G(0,360)),m=kt()+10|0,b=!1,A=!1}}return K(wt,"Figure",P,H,void 0,void 0,void 0,[]),K(ct,"I",P,wt,void 0,void 0,void 0,[]),K(at,"L",P,wt,void 0,void 0,void 0,[]),K(vt,"J",P,wt,void 0,void 0,void 0,[]),K(st,"T",P,wt,void 0,void 0,void 0,[]),K(lt,"O",P,wt,void 0,void 0,void 0,[]),K(ht,"Z",P,wt,void 0,void 0,void 0,[]),K(dt,"S",P,wt,void 0,void 0,void 0,[]),K(yt,"Point",P,void 0,void 0,void 0,void 0,[]),K(en,void 0,P,void 0,void 0,void 0,void 0,[]),K(un,void 0,P,void 0,void 0,void 0,void 0,[]),ct.prototype.f4=function(t){t[1][0]=!0,t[1][1]=!0,t[1][2]=!0,t[1][3]=!0},ct.prototype.g4=function(t){this.l4(t)},ct.prototype.m4=function(t,n){return this.k4_1[t][n]},at.prototype.f4=function(t){t[0][2]=!0,t[1][0]=!0,t[1][1]=!0,t[1][2]=!0},at.prototype.g4=function(t){this.r4(t)},at.prototype.m4=function(t,n){return this.j4_1[t][n]},vt.prototype.f4=function(t){t[0][0]=!0,t[1][0]=!0,t[1][1]=!0,t[1][2]=!0},vt.prototype.g4=function(t){this.r4(t)},vt.prototype.m4=function(t,n){return this.j4_1[t][n]},st.prototype.f4=function(t){t[0][1]=!0,t[1][0]=!0,t[1][1]=!0,t[1][2]=!0},st.prototype.g4=function(t){this.r4(t)},st.prototype.m4=function(t,n){return this.j4_1[t][n]},lt.prototype.f4=function(t){t[0][1]=!0,t[0][2]=!0,t[1][1]=!0,t[1][2]=!0},lt.prototype.g4=function(t){},lt.prototype.m4=function(t,n){throw X("O cannot be rotated")},ht.prototype.f4=function(t){t[0][0]=!0,t[0][1]=!0,t[1][1]=!0,t[1][2]=!0},ht.prototype.g4=function(t){this.r4(t)},ht.prototype.m4=function(t,n){return this.j4_1[t][n]},dt.prototype.f4=function(t){t[0][1]=!0,t[0][2]=!0,t[1][0]=!0,t[1][1]=!0},dt.prototype.g4=function(t){this.r4(t)},dt.prototype.m4=function(t,n){return this.j4_1[t][n]},wt.prototype.r4=function(t){var n=t[0][0],r=t[0][1],i=t[0][2];t[0][0]=t[2][0],t[0][1]=t[1][0],t[0][2]=n,t[2][0]=t[2][2],t[1][0]=t[2][1],t[2][2]=i,t[2][1]=t[1][2],t[1][2]=r},wt.prototype.l4=function(t){var n=t[0][0],r=t[0][1],i=t[1][0],o=t[1][1];t[0][0]=t[3][0],t[3][0]=t[3][3],t[3][3]=t[0][3],t[0][3]=n,t[0][1]=t[2][0],t[2][0]=t[3][2],t[3][2]=t[1][3],t[1][3]=r,t[1][0]=t[3][1],t[3][1]=t[2][3],t[2][3]=t[0][2],t[0][2]=i,t[1][1]=t[2][1],t[2][1]=t[2][2],t[2][2]=t[1][2],t[1][2]=o},en.prototype.o5=function(t){if(!(t instanceof KeyboardEvent))throw W(J("Failed requirement."));"ArrowUp"===t.code||"KeyW"===t.code?Zt():"ArrowDown"===t.code||"KeyS"===t.code?Ut()||(Tt(!0),Ft()):"ArrowLeft"===t.code||"KeyA"===t.code?Jt()&&xt(Dt()-1|0):"ArrowRight"===t.code||"KeyD"===t.code?Wt()&&xt(Dt()+1|0):"Space"===t.code&&(fn(),A||(Vt(!0),function(){for(fn();!rn(Mt());)Et(Mt()+1|0);nn()}())),Gt()},en.prototype.handleEvent=function(t){return this.o5(t)},un.prototype.o5=function(t){if(!(t instanceof KeyboardEvent))throw W(J("Failed requirement."));"ArrowDown"===t.code||"KeyS"===t.code?Tt(!1):"Space"===t.code&&Vt(!1),Gt()},un.prototype.handleEvent=function(t){return this.o5(t)},function(){fn();var t,n=document.getElementById("tetris"),r=n instanceof HTMLCanvasElement?n:F();if(null==r)throw W(J("Required value was null."));t=r,fn(),q=t;var i=zt().getContext("2d");!function(t){fn(),x=t}(i instanceof CanvasRenderingContext2D?i:F());var o=document.getElementById("next"),e=o instanceof HTMLCanvasElement?o:F();if(null==e)throw W(J("Required value was null."));!function(t){fn(),D=t}(e);var u=Bt().getContext("2d");!function(t){fn(),E=t}(u instanceof CanvasRenderingContext2D?u:F());var f=document.getElementById("score"),c=f instanceof HTMLElement?f:F();if(null==c)throw W(J("Required value was null."));!function(t){fn(),M=t}(c);var a,v=document.getElementById("best"),s=v instanceof HTMLElement?v:F();if(null==s)throw W(J("Required value was null."));(function(t){fn(),S=t})(s),Xt(),fn(),document.addEventListener("keydown",new en),document.addEventListener("keyup",new un),window.setInterval(((a=function(){return fn(),nn(),Gt(),I()}).callableName="loop",a),300)}(),t})?i.apply(n,o):i)||(t.exports=e)}},n={},function r(i){var o=n[i];if(void 0!==o)return o.exports;var e=n[i]={exports:{}};return t[i].call(e.exports,e,e.exports,r),e.exports}(595);var t,n}));
//# sourceMappingURL=tetris.js.map